# Vim — сохранить и выйти. Как выйти из редактора Vim. Как выйти из vi.

> Я два года работал в Vim, потому что не знал, как из него выйти.
> © anon

![Выход из Vim. Как выйти из Vim](ru.jpg?raw=true)

## Прежде чем выйти

Скорее всего, вы уже перепробовали много разных сочетаний клавиш,
 а на вас сыпались предупреждения, ошибки и ещё много чего.

Настал момент успокоиться и сделать глубокий вдох. Выдох. Вдох. Выдох.

Теперь, нажмите несколько раз на клавишу Escape.
 На клавиатуре она обычно находится в верхнем левом углу, и подписана как "Esc".

И ещё, переключите раскладку на английскую.
 А если вы открыли Vim в удалённом терминале по ssh, то там, скорее всего, уже английская раскладка.

#### Самое важное, как вы хотите выйти?

- [выйти без сохранения](#1---выход-без-сохранения)
- [с сохранением](#2---выход-с-сохранением)

## 1 — Выход без сохранения

Зажмите Shift, а затем последовательно нажмите Z, а затем Q

**Альтернативный вариант**

Нажмите клавишу с двоеточием, :
 Как правило, для этого нужно зажать Shift и нажать на клавишу с ;

Далее, в строке команд внизу экрана введите:

`q!`

## 2 — Выход с сохранением

Зажмите Shift, а затем последовательно нажмите Z, а затем ещё раз Z

**Альтернативный вариант**

Нажмите клавишу с двоеточием, :
 Как правило, для этого нужно зажать Shift и нажать на клавишу с точкой с запятой, ;

Далее, в строке команд внизу экрана введите:

`wq`

## FAQ

> Q: При сохранении внизу экрана ругается, что не может сохранить.

Скорее всего, это вызвано тем, что вы открыли файл, который ваш пользователь редактировать напрямую не может.
 Тогда, для начала откройте строку команд, введя двоеточие, :

Далее, уже в строке комманд введите:

`w !sudo tee %`

И нажмите Enter.

Эта команда пытается сохранить файл, используя привилегии root-доступа (администратора, если проще). Введите пароль
 вашего пользователя и файл сохранится, если ваш пользователь может запрашивать такие права.

Бывает, что не может, а значит, этот файлик вашему аккаунту сохранить не удастся. Пора просить админов :(

> Q: Почему Vim такой странный?

tl;dr — особенности терминалов, многозначность клавиш в разных режимах.

Редактор vi, а затем его улучшенная версия, Vim, начали разрабатываться в прошлом веке. Нет, это не означает, что они
 плохи. Но также это не означает, что хороши. Это просто факт, который сильно повлиял на все решения при его разработке.

Vi был создан немногим позднее появления компьютерной мыши, а он сам писался под терминал ADM-3A, имевший ограниченную
 клавиатуру — без клавиш-стрелок, а из клавиш-модификаторов был Shift и чуть-чуть Ctrl.

> И да, терминал в те годы — реальная, физическая штука с клавиатурой.
> То, что сейчас в компьютерах называют терминалом, это "эмуляторы терминала".

Так вот, есть только клавиатура и та — урезана. Надо было придумать, как использовать имеющееся по максимуму.

В vi, а дальше в Vim, создали модальный интерфейс, т.е. клавиши в разных режимах выполняли разные действия.

Основных режимов два: командный режим и режим вставки. В режиме вставки клавиатура используется для ввода текста, а в
 командном режиме клавиши перемещают курсор и модифицируют текст.

Сочетания клавиш в командном режиме образуют свой язык, некий упорядоченный синтаксис. Он не виден сразу на старте
 vi/Vim, его сходу сложно понять, но он крайне мощный и гибкий. Если его постичь, то он даёт все инструменты
 для быстрых манипуляций с текстом без отрыва рук от клавиатуры.

Vim очень легко настраивается под себя, даже свой язык программирования у него есть — Vim script. Но это уже излишние детали.

> Q: Может, мне стоит начать писать в Vim?

Если хочется более вдумчиво разобраться с Vim, или просто попробовать его в деле, то рекомендую мой
 (*да-да, самореклама*) конфиг для Vim:

[Конфигурационный файл .vimrc](https://gist.github.com/novusnota/65dcc593df6d9909ffb59eb83fe69a28)

В конце ссылки на полезные в изучении ресурсы, а сам он переполнен пояснениями о том, что и как работает.

Ещё, существует NeoVim, переписанная и улучшенная версия Vim, рекомендую посмотреть на него тоже. Удачи!

## Вот и всё, ребята!

Полезно? Лайк и подписка в студию :)

Кстати, чтобы следить за нашими проектами, успехами и неудачами, подпишитесь в [email-рассылку](https://gumroad.com/ayast).
 Без спама и ерунды, обещаем.

---

Дата: 26.12.2020
<<<<<<< HEAD
| Автор: Яков Геллерт @novusnota
| Переводчик: Яков Геллерт @novusnota
=======
| Автор: Яков Геллерт (github.com/novusnota)
| Переводчик: Яков Геллерт (github.com/novusnota)
>>>>>>> 89f42dd465acde10ec471733689b479da759d822

